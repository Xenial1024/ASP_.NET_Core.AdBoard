@{
    ViewBag.HideMenu = true;
}
@{
    ViewBag.Title = "Menu";
}
<div class="centered-content">
    <img src="~/images/ad-board.png"
         style="height: 52vh"
         alt="Tablica ogłoszeń" />

    <button class="menu-button"
            onclick='window.location.href="@Url.Action("ListOfAds", "Browse", new { UserId = "others" })"'>
        <img src="~/images/browse.png" class="menu-button-image" />
        PRZEGLĄDAJ OGŁOSZENIA
    </button>
    <button class="menu-button @(User.Identity.IsAuthenticated ? "" : "disabled")"
            onclick='@(User.Identity.IsAuthenticated ? $"window.location.href=\"{Url.Action("Add", "AddEditDelete")}\""  : "redirectToLogin()")'>
        <img src="~/images/add.png" class="menu-button-image" />
        DODAJ OGŁOSZENIE
    </button>
    <button class="menu-button @(User.Identity.IsAuthenticated ? "" : "disabled")"
            onclick='@(User.Identity.IsAuthenticated ? $"window.location.href=\"{Url.Action("ListOfAds", "Browse", new { UserId = "current" })}\""  : "redirectToLogin()")'>
        <img src="~/images/manage.png" class="menu-button-image" />
        ZARZĄDZAJ OGŁOSZENIAMI
    </button>
    <button class="menu-button"
            onclick='@(User.Identity.IsAuthenticated ? "window.location.href=\"/Identity/Account/Manage\"" : "redirectToLogin()")'>
        <img src="~/images/settings.png" class="menu-button-image" />
        USTAWIENIA KONTA
    </button>

    <button class="menu-button"
            onclick='window.location.href="@Url.Action("Info", "Home")"'>
        <img src="~/images/info.png" class="menu-button-image" />
        INFORMACJE
    </button>
</div>
@if (TempData["Message"] != null)
{
    string alertClass = TempData["AlertType"] != null && TempData["AlertType"].ToString() == "error"
        ? "centered-red-alert"
        : "centered-green-alert";

    <div class="@alertClass">
        @TempData["Message"]
    </div>
}

<script>
    setTimeout(function () {
        const msg = document.querySelector(".centered-red-alert, .centered-green-alert");
        if (msg) {
            msg.classList.add("hidden");
            setTimeout(function () {
                msg.remove();
            }, 500);
        }
    }, 1700);
</script>

<script>
    function redirectToLogin() {
        window.location.href = '/Identity/Account/Login';
    }
</script>